# COMP30880

Team Pah tail
-Dongryul Jeong (15205766)
-Donnchadh Robinson (16742991)
-Michael Bradley (16407672)

Task1:

Michael Bradley, ProjectListGenerator.java: 
The ProjectListGenerator class works by first creating a list of StaffMember instances using the info from the rows of Miskatonic Staff Members.csv.
It then proposes from those staffMembers a list of random Project instances of size n, where each project has a unique staffMember/Supervisor.
If in the proposed list contains a set of Supervisors where between all Supervisors it is possible to generate a total of n*3
projects then we add an additional n*2 projects to our list of projects using only previously used supervisors and write it to ProjectList.csv.
If the proposed list doesn't contain a suitable set of Supervisors then we remove 10 staff members who are not capable of generating 3=< projects and
propose a new list (We remove projects to significantly reduce processing time).

Donnchadh Robinson, StudentGenerator.Java:
The student generator creates a lists of the CS, DS projects and the list of student names.
Using the information found in the ProjectList.csv file and the names.csv . The name and
ID of each student is then generated. Then a list of projects is created with it's preference 
percentages decided by the normal distribution. The student is then assigned a random stream
based on the 60/40 split. The student is then assigned 10 projects based on the preferences
previously decided. 




Normal Distribution:
To create the normal distribution the project uses three lists that it assigns projects to.
The lists are shuffled so that they are random for each list of preferences.
The list is then broken into thirds and different percentages are assigned to each.
The first third of the list is 68% likely to be chosen.
The second third is 27% likely to be chosen.
The third list is 5% likey to be chosen.
This will create the standard deviation in the preference lists of the students. 

Task2:
We took in the information from the files and used an
if statement to detect if a csv or tsv file was being read in 
and changed the delimiter accordingly. This information was then
stored in lists for further use. We added code to account for things
like extra white spaces, comma's within the text for csv's and similar 
situations. 

We tested the code using a varity of files with a few different errors.
Including files missing information and files with extra unwanted characters.

Task3:
We used the preference list generated in the previous task to create our solution.
Lists were used to organize and store this information.
The solutions were stored as an integer that relates to an index stored in the project lists. 


Task4:
SimulatedAnnealing class contains three static methods, Fitness(), Energy(), and ChangeRandom().
Fitness calculates the fitness of a CandidateSolution argument based on soft and hard constraints. Given that it is still possible for a two students to be assigned the same project and likely to happen the energy returned is often 0. 
Energy returns the inverse of Fitness (or infinity if fitness is 0).
ChangeRamdom takes a CandidateSolution as an argument and randomly changes one students project to another one from their preference list. 

A basic menu was added to allow easy navigation of the program and to allow the solution to be worked on without generating a new solution each time. 


Task 5: Simulated Annealing was implemented in the HillClimbingWithSA class (built from HillClimbing class), the initial temperature of 100 was chosen with a cooling schedule that cools by 10 for each random change that is accepted. This cooling schedule was chosen as from testing it gave the best results.

Task 6: The GAMate class contains the static mate method, this method takes 2 candidate solutions and generates an offSpring. an offSpring is generated by interlacing entries from each solution (every ith entry is from solution 1, every i+1th entry is from solution 2). If a student has a project that has already appeared in the offSpring, that entry is mutated and the project is moved to the next down from that project of that students preferences. From testing this method has roughly a 0.00001% chance of producing a degenerate, which is sufficiently low for our purposes.
The GeneticAlgorithm class creates a number of solutions. It then adds these solutions to a list where they are sorted based on their fitness. Then the top 10% of the list of solutions are given the chance to mate. Mating is done at random so not all of the top 10% will sucessfully mate and some may mate more than once. There is a 3% chance that a solution that is not in the top 10% will be allowed to mate. Allowing fresh solutions to enter the pool of solutions and helping to reduce issues that may occure from limiting the mating to the top 10%. Then the solutions are ranked by fitness again and the bottom 10% is culled.
This process is repeated until new lists of solutions are created with no improvement.

Task 7:
The program currently only accepts csv and tsv files.
Solutions are saved to C:\\Users\\Public\\OptimumSolution.csv
Solutions are currently only saved as csv files as these were the easiest files to generate from the data avalible. 
Buttons have been added to allow loading a file and exiting the program.
A simple number based interface has been created to allow the user to navigate the options of the program.
A solution can be saved at any time and when ever the SA or GA sections are run the optimal result will be saved. 
A runable Jar is located in the src folder for the project.
Running instructions are located in this document.


Code has been added to prevent the user from running the program with no preference list loaded and with no data set generated.
The user will be informed if a file loading failed and if the file was the wrong type. 
The menu will inform the user if they enter an incorrect option and prompt them to enter a correct one. 
The menu has an option to inform the user what preference list they have loaded and the path to this file. 
When the solution is generated the size of the solution will be returned to the user so that they can be sure a solution of the correct size has been generated. 
When a file is loaded in the number of lines in the solution will be displayed so that the user can make sure the file is the correct length.
The jar may display no action for a period of time while the solution is being generated. 

Running Instructions: 
The jar requires the following files.
Miskatonic Staff Members.csv
names.csv
ProjectList.csv
PreferenceList.csv
So it should be run in a folder that contains these files. 
When the program loads use the open file in the menu and navigate to the PreferenceList desired to be used.
Then press 1 to generate a solution. Then use the menu to preform the actions desired.

 



Final Sprint:

Organisation: Our code was reorganised and classes that were no longer needed were removed (HillClimbing, classes
used to generate sample inputs w/ normal distribution etc.) The GAMate class was removed with its method being moved into the
GeneticAlgorithm class where it was more appropriate. GeneticAlgorithm and HillClimbingWithSA were also changed so their respective population and
cooling values were not fixed to allow for easier testing. Additionally the CandidateSolutionGenerator class was modified so it could properly read inputs like
the sample preference matrix provided to us, it was also modified so that it would funciton properly when run in the jar (Using inputStremReader insead of FileReader).

Testing: We performed to see how HillClimbingWithSA and GeneticAlgorithms performed with different cooling/population values. Testing was carried out in the TestCases.java class
The results for SA were:
      cooling10 : 77.94357142857143
			cooling25 : 77.83357142857142
			cooling50 :76.1407142857143
			cooling100 :76.03071428571428
			cooling200 :79.63642857142857
			cooling250 :75.23928571428571
      
The resuls for GA were:
      pop10 : 48.53333333333334
			pop50 :48.53333333333334
			pop100 :50.73333333333334
			pop250 :50.73333333333334
      

The GUI was altered to remove the number based menu and to instead use a button based system.
The code was also changed so that the relevant information for all of the operations would be printed to the text area. For SA/GA, it supports autosaving result.

Requirements for running the java executable:
The Java executable
The file to be worked on in csv form. 
The program will only accept files in the csv form.
RandomProjects.csv

Instructions for running the java executable:
Double click the Final Sprint exe to run the program. 
Go to file and click open file.
Navigate to the location of the csv file to be used and select that file.
Press the generate solution button to create an initial solution.
Then use the remaining buttons to perform the operations you desire on file and save it.


Total Distribution of work over the 8 sprints was as follows:
Sprints 1-6 The workload was 50% Michael Bradley, 50% Donnchadh Robinson.
Sprint 7 The workload was 40% Michael Bradley, 40% Donnchadh Robinson and 10% Dongryul Jeong who implemented the culling method.
Sprint 8 The workload was 33% Michael Bradley, 33% Donnchadh Robinson and 33% Dongryul Jeong 
No formal agreement was made on how the work should be distributed but it was presumed that
in each sprint that a simliar anount of work would be contributed by each participant. This did not occure. 
 


